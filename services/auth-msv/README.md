# Сервис авторизации и аутентификации Auth-msv

## Использованные инструменты

- База данных: **Postgresql**
- Доступ к сервису: **gRPC**
- Модель аутентификации/авторизации: **JWT tokens**
- Хранение refresh-токенов: **Memcached**
- Миграции: [**goose**](https://github.com/pressly/goose)
- Хеширование паролей: **bcrypt**

## Принцип работы

В данном сервисе для аутентификации и авторизации используются access и refresh токены. Access token необходим для
получения доступа, refresh - для обновления access токена, т.к. последний в целях безопасности обладает небольшим "сроком годности".

Auth-msv предоставляет следующие функции:

1. Регистрация пользователя
2. Аутентификация пользоваля (вход в аккаунт)
3. Обновление токенов
4. Проверка access токена и получение полезной информации из него
5. Обновление пароля
6. Выход из системы

Также есть методы администратора:

1. Удаление пользователя
2. Обновление уровня доступа пользователей
3. Получение списка всех пользователей с указанным уровнем доступа

[более подробное описание интефейса здесь](/protos/auth/README.md)

### Уровни доступа

- **Admin - 1**

  Администратор может управлять пользователями, получать информацию о них и т.д.

- **WarehouseWorker - 2**

  Отвечает за склад: добавление, удаление товара, сборка заказа

- **Courier - 3**

  Курьер отвечает за доставку товара

- **Buyer - 4**

  Покупатель - базовый уровень доступа, необходимый для взаимодействия с корзиной, для возможности заказать товар.
